<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#ffc000" type = "ball-square-clockwise-spin" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>

<div class="bgp-background-gray" style="width: 100%;">
    <div style="width: 100%; text-align: right;">
        <button (click)="DownloadReport()" type="submit" class="btn btn-outline-dark my-2 my-sm-0 " > <i class="far fa-arrow-alt-circle-down"></i> Download Report</button>
    </div>

    <div style="width: 100%; margin: auto; text-align: center;">
        <div id=headerDiv style="background-color: rgb(22, 21, 21); text-align: left; margin:0 auto;">
            <img src="../assets/bgplogo.JPG" style="width:200px;height:150px;">
            <div style="background-color:lightgray; float: right; ">
                <h4><i class="fas fa-map-marker-alt"></i> Company: Black Gold Properties</h4>
                <h4><i class="fas fa-phone-square"></i> Contact Number: +27 (0)72 322 9774</h4>
                <h4><i class="far fa-envelope"></i> Email: info@bgprop.co.za</h4>
            </div>
        </div>

        <br>
         <div *ngIf="valuations" >
            <div id="subHeading">
                <h1>Valuations Report</h1>
                <br>
                <h4><i class="fas fa-calendar-alt"></i> Report Date: {{reportDate}}</h4>
                <h4><i class="fas fa-user"></i> Prepared By: {{reportUser[0].USERNAME}} {{reportUser[0].USERSURNAME}}</h4>
            </div>

            <div >
                <table style="margin: auto; " id="dateTable" >
                    <tr >
                        <th colspan="2">Report Date Range:</th>
                    </tr>
                    <tr >
                        <td>Start date</td> 
                        <td>End Date</td>
                    </tr>
                    <tr >
                        <td>{{startDate}}</td> 
                        <td>{{endDate}}</td>
                    </tr>
                </table>
            </div>

            <div class="categoryTable">
                <table style="text-align: left;" id="table" class="container">
                    <tr>
                        <th>Valuation date:</th> 
                        <th>Property address:</th> 
                        <th>Valuer:</th> 
                        <th>Valuation description:</th> 
                    </tr>
                    <tr *ngFor="let valuation of valuations; let i = index">
                        <td>{{valuation.VALUATIONDATE}}</td>
                        <td style="text-align: left;">{{valuation.PROPERTYADDRESS}}</td> 
                        <td style="text-align: left;">{{valuation.USERNAME}}  {{valuation.USERSURNAME}}</td>  
                        <td style="text-align: left;">{{valuation.VALUATIONDESCRIPTION}}</td>
                    </tr>
                </table>
            </div>
            <br><br><br>
            <h5 style="text-align: center;">***End of Report***</h5>
            <br>
            <div *ngIf="chart" id="canvas-div">
                <canvas id="canvas" > {{chart}} </canvas>
            </div>  
        </div>
    </div>
</div>

